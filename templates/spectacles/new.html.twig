{% extends "base.html.twig" %}
{% block title 'Nouveau spectacle' %}

{% block content %}
  <h1>Nouveau spectacle</h1>

  {% if success|default(false) %}
    <p>Le spectacle a été enregistré avec succès.</p>
  {% endif %}

  <form method="post">
    {% for name, field in fields %}
      <div>
        <label for="{{ name }}">{{ field.label }}</label>
        {% if field.type == 'textarea' %}
          <textarea id="{{ name }}" name="{{ name }}" rows="5" placeholder="{{ field.placeholder|default('') }}">{{ data[name]|default('')|e }}</textarea>
        {% else %}
          <input id="{{ name }}" name="{{ name }}" type="{{ field.type }}" value="{{ data[name]|default('')|e }}" placeholder="{{ field.placeholder|default('') }}">
        {% endif %}
        {% if errors[name] is defined %}
          <div>{{ errors[name] }}</div>
        {% endif %}
      </div>
    {% endfor %}
    <button type="submit">Enregistrer</button>
  </form>
{% endblock %}